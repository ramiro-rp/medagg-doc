# Руководство администратора

Это руководство для пользователей с ролью **Admin** в системе
Medical Imaging Dataset Aggregator.

---

## 1. Задачи администратора

- поддерживать в актуальном состоянии **каталог наборов данных** и справочники;
- контролировать **запросы пользователей** и статусы коллекций;
- управлять **дисковым пространством**, удаляя устаревшие ZIP-архивы;
- участвовать в диагностике проблем с поиском и формированием коллекций.

---

## 2. Доступ к админ-разделу

1. Войдите в систему под учётной записью с правами администратора.
2. Откройте раздел **Admin / Админ** в основном меню.

Если раздел администрирования не отображается, у вашего аккаунта нет
необходимых прав.

<screenshot: admin-main-page>

---

## 3. Управление наборами данных

### 3.1 Создание записи набора

1. Перейдите в **Admin → Datasets / Наборы данных**.
2. Нажмите **«Новый набор»**.
3. Заполните форму. Рекомендуемый минимум:
   - название;
   - ссылка на внешний источник (URL);
   - краткое описание;
   - анатомическая область;
   - модальность (одна или несколько);
   - тип(ы) ML-задачи;
   - оценочное количество изображений;
   - примерный размер (МБ);
   - теги.
4. Сохраните изменения.

Набор станет доступен в результатах поиска (если он активен).

<screenshot: admin-dataset-create-form>

### 3.2 Редактирование и деактивация

1. В разделе **Admin → Datasets** найдите нужный набор.
2. Нажмите **Edit / Редактировать** и измените необходимые поля.
3. Чтобы временно скрыть набор из поиска, не удаляя историю, установите
   флаг **«не активен»** (например, `Active = false`).

<screenshot: admin-dataset-edit-form>

---

## 4. Управление справочниками

В админ-интерфейсе могут быть разделы:

- **Anatomical areas / Анатомические области**;
- **Modalities / Модальности**;
- **ML task types / Типы задач**;
- **Tags / Теги**.

Через эти разделы администратор может:

- добавлять новые значения (например, новую модальность или тег);
- корректировать названия и описания;
- деактивировать устаревшие записи.

Корректное ведение справочников важно для фильтров и модуля поиска.

---

## 5. Мониторинг запросов и коллекций

В разделе **Admin → Requests / Logs** отображаются запросы и коллекции,
созданные пользователями.

Для каждой записи могут показываться:

- пользователь;
- текст запроса или набор фильтров;
- время создания;
- статус коллекции (pending / ready / failed / expired);
- размер архива (если сформирован);
- текст ошибки (если есть).

<screenshot: admin-requests-page>

Эти данные помогают:

- понимать, какие сценарии наиболее популярны;
- диагностировать сбои, связанные с определёнными запросами или наборами;
- принимать решения об удалении старых крупных коллекций.

---

## 6. Управление хранилищем

Сформированные коллекции сохраняются в виде ZIP-файлов в каталоге, доступном
backend-приложению (локальный SSD или примонтированный том). В системе может
быть реализована автоматическая **политика хранения** (удаление архивов
старше N дней).

Типичные задачи администратора:

- контролировать использование диска;
- удалять устаревшие или тестовые коллекции (через UI или скрипты –
  в зависимости от реализации);
- проверять, что политика хранения работает корректно и не удаляет нужные данные.

---

## 7. Безопасность

- не передавайте админ-учётные данные третьим лицам;
- ограничьте доступ к админ-интерфейсу из недоверенных сетей;
- своевременно устанавливайте обновления безопасности для ОС и Docker-образов;
- при подозрении на утечку данных или злоупотребление правами
  сообщите тимлиду / DevOps и при необходимости смените секреты
  (пароли БД, токены и т.п.).
